<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bytecode Compiler Performance Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #eee;
            min-height: 100vh;
            padding: 2rem;
        }
        .container { max-width: 1200px; margin: 0 auto; }
        h1 {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 2rem;
            background: linear-gradient(135deg, #00d4ff 0%, #7b2ff7 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 2rem;
        }
        .card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .card h2 { font-size: 1.2rem; margin-bottom: 1rem; color: #00d4ff; }
        .chart-container { height: 300px; }
        .stats-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin-bottom: 2rem; }
        .stat-card { background: rgba(255,255,255,0.05); border-radius: 12px; padding: 1.5rem; text-align: center; }
        .stat-value { font-size: 2rem; font-weight: bold; color: #00d4ff; }
        .stat-label { font-size: 0.875rem; color: #888; margin-top: 0.5rem; }
        table { width: 100%; border-collapse: collapse; }
        th, td { padding: 0.75rem; text-align: left; border-bottom: 1px solid rgba(255,255,255,0.1); }
        th { color: #00d4ff; }
        .speedup-badge { display: inline-block; padding: 0.25rem 0.5rem; border-radius: 4px; background: rgba(0,212,255,0.2); color: #00d4ff; font-weight: bold; }
        input[type="file"] { padding: 0.5rem; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); border-radius: 8px; color: #eee; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸš€ Bytecode Compiler Dashboard</h1>
        <div style="margin-bottom:1rem"><label>Load results: </label><input type="file" id="csv-file" accept=".csv"></div>
        <div class="stats-grid">
            <div class="stat-card"><div class="stat-value" id="total-benchmarks">3</div><div class="stat-label">Benchmarks</div></div>
            <div class="stat-card"><div class="stat-value" id="avg-speedup">1.2x</div><div class="stat-label">Avg Speedup</div></div>
            <div class="stat-card"><div class="stat-value" id="best-speedup">1.5x</div><div class="stat-label">Best Speedup</div></div>
        </div>
        <div class="dashboard-grid">
            <div class="card"><h2>ðŸ“Š Execution Time</h2><div class="chart-container"><canvas id="timeChart"></canvas></div></div>
            <div class="card"><h2>âš¡ Speedup</h2><div class="chart-container"><canvas id="speedupChart"></canvas></div></div>
        </div>
        <div class="card" style="margin-top:2rem">
            <h2>ðŸ“‹ Results</h2>
            <table><thead><tr><th>Benchmark</th><th>Optimized</th><th>Unoptimized</th><th>Speedup</th></tr></thead>
            <tbody id="results-table"><tr><td>fib.src</td><td>0.45ms</td><td>0.52ms</td><td><span class="speedup-badge">1.16x</span></td></tr></tbody></table>
        </div>
    </div>
    <script>
        let data = {labels:['fib.src','factorial.src','sum_loop.src'],optimized:[0.45,0.32,0.28],unoptimized:[0.52,0.38,0.35],speedup:[1.16,1.19,1.25]};
        const timeChart = new Chart(document.getElementById('timeChart'),{type:'bar',data:{labels:data.labels,datasets:[{label:'Optimized',data:data.optimized,backgroundColor:'rgba(0,212,255,0.7)'},{label:'Unoptimized',data:data.unoptimized,backgroundColor:'rgba(123,47,247,0.7)'}]},options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{labels:{color:'#eee'}}},scales:{y:{beginAtZero:true,ticks:{color:'#888'}},x:{ticks:{color:'#888'}}}}});
        const speedupChart = new Chart(document.getElementById('speedupChart'),{type:'bar',data:{labels:data.labels,datasets:[{label:'Speedup',data:data.speedup,backgroundColor:'rgba(0,255,136,0.7)'}]},options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{labels:{color:'#eee'}}},scales:{y:{beginAtZero:true,ticks:{color:'#888'}},x:{ticks:{color:'#888'}}}}});
        document.getElementById('csv-file').addEventListener('change',e=>{const f=e.target.files[0];if(f){const r=new FileReader();r.onload=e=>{const lines=e.target.result.trim().split('\n'),d={labels:[],optimized:[],unoptimized:[],speedup:[]};for(let i=1;i<lines.length;i++){const c=lines[i].split(',');d.labels.push(c[0]);d.optimized.push(+c[1]);d.unoptimized.push(+c[2]);d.speedup.push(+c[3]);}timeChart.data.labels=d.labels;timeChart.data.datasets[0].data=d.optimized;timeChart.data.datasets[1].data=d.unoptimized;timeChart.update();speedupChart.data.labels=d.labels;speedupChart.data.datasets[0].data=d.speedup;speedupChart.update();document.getElementById('total-benchmarks').textContent=d.labels.length;document.getElementById('avg-speedup').textContent=(d.speedup.reduce((a,b)=>a+b,0)/d.speedup.length).toFixed(2)+'x';document.getElementById('best-speedup').textContent=Math.max(...d.speedup).toFixed(2)+'x';const tb=document.getElementById('results-table');tb.innerHTML='';d.labels.forEach((l,i)=>{tb.innerHTML+=`<tr><td>${l}</td><td>${d.optimized[i]}ms</td><td>${d.unoptimized[i]}ms</td><td><span class="speedup-badge">${d.speedup[i]}x</span></td></tr>`;});};r.readAsText(f);}});
    </script>
</body>
</html>
